package store.yaff.feature.impl.exploit;

import net.minecraft.inventory.InventoryEnderChest;
import org.lwjgl.input.Keyboard;
import store.yaff.event.AbstractEvent;
import store.yaff.event.impl.FeatureDisableEvent;
import store.yaff.event.impl.FeatureStateEvent;
import store.yaff.event.impl.UpdateEvent;
import store.yaff.event.impl.WorldEvent;
import store.yaff.feature.AbstractFeature;
import store.yaff.feature.Category;

public class InstantEC extends AbstractFeature {
    public static InventoryEnderChest enderChestInventory;

    public InstantEC(String name, String description, Category category, int key) {
        super(name, description, category, key);
    }

    @Override
    public void onEvent(AbstractEvent event) {
        if (event instanceof UpdateEvent) {
            if (Keyboard.isKeyDown(Keyboard.KEY_INSERT) && mc.currentScreen == null) {
                mc.player.displayGUIChest(enderChestInventory);
            }
        }
        if (event instanceof WorldEvent || (event instanceof FeatureStateEvent stateEvent && stateEvent.getFeature().equals(this)) || (event instanceof FeatureDisableEvent disableEvent && disableEvent.getFeature().equals(this))) {
            enderChestInventory = null;
        }
    }

}
